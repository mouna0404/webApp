{"version":3,"file":"mat-breadcrumb.js","sources":["ng://mat-breadcrumb/lib/mat-breadcrumb.service.ts","ng://mat-breadcrumb/lib/mat-breadcrumb.component.ts","ng://mat-breadcrumb/lib/mat-breadcrumb.module.ts","ng://mat-breadcrumb/public-api.ts","ng://mat-breadcrumb/mat-breadcrumb.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { Breadcrumb } from './breadcrumb.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MatBreadcrumbService {\n\n  public breadcrumbLabels: BehaviorSubject<any[]> = new BehaviorSubject<any[]>([]);\n  public newBreadcrumb: BehaviorSubject<Breadcrumb[]> = new BehaviorSubject<Breadcrumb[]>([]);\n\n  constructor() { }\n\n  updateBreadcrumbLabels(labels: any) {\n    this.breadcrumbLabels.next(labels);\n  }\n\n  updateBreadcrumb(newBreadcrumb: Breadcrumb[]) {\n    this.newBreadcrumb.next(newBreadcrumb);\n  }\n\n\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { Breadcrumb } from './breadcrumb.model';\nimport { MatBreadcrumbService } from './mat-breadcrumb.service';\nimport { ActivatedRoute, Router, NavigationEnd, PRIMARY_OUTLET, RoutesRecognized } from '@angular/router';\nimport { filter } from 'rxjs/operators';\nimport { map, mergeMap } from 'rxjs/internal/operators';\n\n@Component({\n  selector: 'lib-mat-breadcrumb',\n  template: `\n  <mat-toolbar class=\"mat-bread-crumb\" [ngStyle]=\"{'background-color': bgColor}\">\n  <mat-list class=\"mat-bread-crumb-list\" *ngIf=\"breadcrumb.length\">\n      <mat-list-item>\n          <span class=\"mat-bread-crumb-spacer\">\n              <span *ngFor=\"let item of breadcrumb; let i = index\">\n                  <a *ngIf=\"item?.url\" [routerLink]=\"item?.url\" class=\"mat-bread-crumb-list-item\" [ngStyle]=\"{'font-size': fontSize}\" [ngStyle]=\"{'color': fontColor}\">{{ item.label }}</a>\n                  <span *ngIf=\"!item?.url\" class=\"mat-bread-crumb-list-item\" [ngStyle]=\"{'font-size': fontSize}\"  [ngStyle]=\"{'color': lastLinkColor}\">{{ item.label }}</span>\n                  <span *ngIf=\"breadcrumb.length !== i+1\">{{symbol}}</span>\n              </span>\n          </span>\n      </mat-list-item>\n  </mat-list>\n</mat-toolbar>\n  `,\n  styleUrls: ['./mat-breadcrumb.component.css']\n})\nexport class MatBreadcrumbComponent implements OnInit {\n\n  breadcrumb: Breadcrumb[] = [];\n  @Input() bgColor = '#eee';\n  @Input() fontSize = '18px';\n  @Input() fontColor = '#0275d8';\n  @Input() lastLinkColor = '#000';\n  @Input() symbol = ' / ';\n  params: { [key: string]: any; };\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private router: Router,\n    private ng7MatBreadcrumbService: MatBreadcrumbService\n  ) {\n    this.breadCrumbData();\n  }\n\n  ngOnInit() {\n    this.ng7MatBreadcrumbService.breadcrumbLabels.subscribe((labelData) => {\n      for (const label in labelData) {\n        if (labelData.hasOwnProperty(label)) {\n          this.breadcrumb.map((crumb) => {\n            const labelParams = crumb.label.match(/[^{{]+(?=\\}})/g);\n            if (labelParams) {\n              for (const labelParam of labelParams) {\n                const dynamicData = labelData[label];\n                if (labelParam === label) {\n                  crumb.label = crumb.label.replace('{{' + labelParam + '}}', dynamicData);\n                }\n              }\n            }\n          });\n        }\n      }\n    });\n\n    this.ng7MatBreadcrumbService.newBreadcrumb.subscribe((breadcrumb: Breadcrumb[]) => {\n      this.updateData(this.activatedRoute, breadcrumb);\n    });\n  }\n\n  breadCrumbData(): void {\n    this.router.events\n      .pipe(filter(event => event instanceof NavigationEnd))\n      .pipe(map(() => this.activatedRoute))\n      .pipe(map((route) => {\n        while (route.firstChild) { route = route.firstChild; }\n        return route;\n      }))\n      .pipe(filter(route => route.outlet === PRIMARY_OUTLET))\n      .subscribe(route => {\n        this.params = route.snapshot.params;\n        this.updateData(route, null);\n      });\n  }\n\n  private updateData(route, newBreadcrumb): void {\n    if (route.snapshot.data.breadcrumb || newBreadcrumb) {\n      const data = route.snapshot.data.breadcrumb ? route.snapshot.data.breadcrumb : newBreadcrumb;\n      const breadcrumb = (JSON.parse(JSON.stringify(data)));\n      breadcrumb.map((crumb) => {\n\n        const urlChunks = crumb.url.split('/');\n        for (const chunk of urlChunks) {\n          if (chunk.includes(':')) {\n            const paramID = chunk.replace(':', '');\n            const routerParamID = this.params[paramID];\n            crumb.url = crumb.url.replace(`:${paramID}`, routerParamID);\n          }\n        }\n\n        const labelParams = crumb.label.match(/[^{{]+(?=\\}})/g);\n        if (labelParams) {\n          for (const labelParam of labelParams) {\n            const routerParamID = this.params[labelParam.trim()];\n            if (routerParamID) {\n              crumb.label = crumb.label.replace('{{' + labelParam + '}}', routerParamID);\n            } else {\n            }\n          }\n        }\n\n      });\n      this.breadcrumb = breadcrumb;\n    } else {\n      this.breadcrumb = [];\n    }\n  }\n\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { MatBreadcrumbComponent } from './mat-breadcrumb.component';\n\nimport { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatListModule } from '@angular/material/list';\n\n\n@NgModule({\n  declarations: [MatBreadcrumbComponent],\n  imports: [\n    RouterModule,\n    CommonModule,\n    BrowserAnimationsModule,\n    MatToolbarModule,\n    MatListModule\n  ],\n  exports: [MatBreadcrumbComponent]\n})\nexport class MatBreadcrumbModule { }\n","/*\n * Public API Surface of mat-breadcrumb\n */\n\nexport * from './lib/mat-breadcrumb.service';\nexport * from './lib/mat-breadcrumb.component';\nexport * from './lib/mat-breadcrumb.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}